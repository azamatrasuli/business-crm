# ğŸ“˜ Ğ¢ĞµÑ…Ğ½Ğ¸Ñ‡ĞµÑĞºĞ¸Ğµ Ğ¡Ñ‚Ğ°Ğ½Ğ´Ğ°Ñ€Ñ‚Ñ‹ Yalla Ecosystem

> **Ğ¦ĞµĞ»ÑŒ:** Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ğ¸Ğ»Ğ¸ÑÑ‚Ğ¸ĞºĞ¸, Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ñ‹, Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ² Ğ¸ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ğ¾Ğ² Ğ´Ğ»Ñ ĞµĞ´Ğ¸Ğ½Ğ¾Ğ¾Ğ±Ñ€Ğ°Ğ·Ğ¸Ñ Ñ€Ğ°Ğ·Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸

---

## ğŸ“‹ Ğ¡Ğ¾Ğ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğµ

1. [ĞĞ±Ğ·Ğ¾Ñ€ ÑÑ‚ĞµĞºĞ° Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹](#1-Ğ¾Ğ±Ğ·Ğ¾Ñ€-ÑÑ‚ĞµĞºĞ°-Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹)
2. [ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°](#2-Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)
3. [Frontend: Next.js + React](#3-frontend-nextjs--react)
4. [Backend: ASP.NET Core](#4-backend-aspnet-core)
5. [ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ¸ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹](#5-Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹-Ğ¸-Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹)
6. [Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞºĞ¾Ğ´Ğ°](#6-ÑÑ‚Ğ¸Ğ»Ğ¸ÑÑ‚Ğ¸ĞºĞ°-ĞºĞ¾Ğ´Ğ°)
7. [UI/UX Ğ¸ Ğ²ĞµÑ€ÑÑ‚ĞºĞ°](#7-uiux-Ğ¸-Ğ²ĞµÑ€ÑÑ‚ĞºĞ°)
8. [ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº](#8-Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ°-Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº)
9. [Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ](#9-Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ)
10. [DevOps Ğ¸ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹](#10-devops-Ğ¸-Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹)
11. [ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°](#11-ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ-Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°)

---

## 1. ĞĞ±Ğ·Ğ¾Ñ€ ÑÑ‚ĞµĞºĞ° Ñ‚ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ğ¹

### Frontend

| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|------------|--------|------------|
| **Next.js** | 16.x | React-Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº Ñ App Router |
| **React** | 19.x | UI Ğ±Ğ¸Ğ±Ğ»Ğ¸Ğ¾Ñ‚ĞµĞºĞ° |
| **TypeScript** | 5.x | Ğ¢Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
| **Tailwind CSS** | 4.x | CSS Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº |
| **shadcn/ui** | - | UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (Radix) |
| **TanStack Query** | 5.x | Ğ¡ĞµÑ€Ğ²ĞµÑ€Ğ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ |
| **Zustand** | 5.x | ĞšĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ |
| **Zod** | 4.x | Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ ÑÑ…ĞµĞ¼ |
| **React Hook Form** | 7.x | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ğ¼Ğ¸ |
| **Axios** | 1.x | HTTP ĞºĞ»Ğ¸ĞµĞ½Ñ‚ |
| **date-fns** | 4.x | Ğ Ğ°Ğ±Ğ¾Ñ‚Ğ° Ñ Ğ´Ğ°Ñ‚Ğ°Ğ¼Ğ¸ |
| **Framer Motion** | 12.x | ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ |
| **Sonner** | 2.x | Toast ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ |
| **Lucide React** | - | Ğ˜ĞºĞ¾Ğ½ĞºĞ¸ |

### Backend

| Ğ¢ĞµÑ…Ğ½Ğ¾Ğ»Ğ¾Ğ³Ğ¸Ñ | Ğ’ĞµÑ€ÑĞ¸Ñ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|------------|--------|------------|
| **ASP.NET Core** | 8.x | Web API Ñ„Ñ€ĞµĞ¹Ğ¼Ğ²Ğ¾Ñ€Ğº |
| **Entity Framework Core** | 8.x | ORM |
| **PostgreSQL** | 15.x | Ğ¡Ğ£Ğ‘Ğ” |
| **Serilog** | - | Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ |
| **FluentValidation** | - | Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ |
| **JWT Bearer** | - | ĞÑƒÑ‚ĞµĞ½Ñ‚Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ |

### Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

| Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | ĞŸÑ€Ğ¾Ğ²Ğ°Ğ¹Ğ´ĞµÑ€ | ĞĞ°Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ |
|--------|-----------|------------|
| Frontend Hosting | Vercel | Next.js Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹ |
| Backend Hosting | Render | Docker + ASP.NET |
| Database | Supabase | PostgreSQL 15 |
| Repository | GitHub | ĞšĞ¾Ğ´ Ğ¸ CI/CD |

---

## 2. ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### ĞĞ±Ñ‰Ğ°Ñ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¼Ğ¾Ğ½Ğ¾Ñ€ĞµĞ¿Ğ¾Ğ·Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ñ

```
yalla-project/
â”œâ”€â”€ config.json              # ğŸ”§ Ğ•Ğ´Ğ¸Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ (Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°, Ñ†ĞµĞ½Ñ‹, feature flags)
â”œâ”€â”€ frontend/                # Next.js 16 + React 19
â”œâ”€â”€ backend/                 # ASP.NET Core 8
â””â”€â”€ docs/                    # Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
```

### Frontend Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Feature-based)

```
frontend/
â”œâ”€â”€ app/                        # Next.js App Router
â”‚   â”œâ”€â”€ (auth)/                 # Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ° Ñ€Ğ¾ÑƒÑ‚Ğ¾Ğ² Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”œâ”€â”€ forgot-password/
â”‚   â”‚   â””â”€â”€ reset-password/
â”‚   â”œâ”€â”€ (dashboard)/            # Ğ—Ğ°Ñ‰Ğ¸Ñ‰Ñ‘Ğ½Ğ½Ñ‹Ğµ Ñ€Ğ¾ÑƒÑ‚Ñ‹ (Ñ layout)
â”‚   â”‚   â”œâ”€â”€ layout.tsx          # Sidebar + Header
â”‚   â”‚   â”œâ”€â”€ page.tsx            # Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ (Dashboard)
â”‚   â”‚   â”œâ”€â”€ employees/
â”‚   â”‚   â”œâ”€â”€ users/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ layout.tsx              # Root layout (providers)
â”‚   â””â”€â”€ globals.css             # Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‚Ğ¸Ğ»Ğ¸ + CSS Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                     # shadcn/ui ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (Ğ¿Ñ€Ğ¸Ğ¼Ğ¸Ñ‚Ğ¸Ğ²Ñ‹)
â”‚   â”œâ”€â”€ common/                 # ĞŸĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (DataFetcher)
â”‚   â”œâ”€â”€ features/               # Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ Ğ¿Ğ¾ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑĞ¼
â”‚   â”‚   â”œâ”€â”€ employees/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ layout/                 # Header, Sidebar, Mobile Nav
â”‚   â”œâ”€â”€ providers/              # React context providers
â”‚   â””â”€â”€ skeletons/              # Loading ÑĞºĞµĞ»ĞµÑ‚Ğ¾Ğ½Ñ‹
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/                    # API ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ (axios ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ + Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ)
â”‚   â”œâ”€â”€ hooks/                  # ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ñ‹Ğµ Ñ…ÑƒĞºĞ¸
â”‚   â”œâ”€â”€ repositories/           # Repository Pattern
â”‚   â”œâ”€â”€ queries/                # React Query options (CQRS reads)
â”‚   â”œâ”€â”€ commands/               # ĞœÑƒÑ‚Ğ°Ñ†Ğ¸Ğ¸ (CQRS writes)
â”‚   â”œâ”€â”€ events/                 # Event Bus (Pub/Sub)
â”‚   â”œâ”€â”€ errors/                 # ĞŸĞ°Ñ€ÑĞ¸Ğ½Ğ³ Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
â”‚   â”œâ”€â”€ logger/                 # Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ñ correlation ID
â”‚   â”œâ”€â”€ validation/             # Zod ÑÑ…ĞµĞ¼Ñ‹
â”‚   â”œâ”€â”€ constants/              # ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹
â”‚   â”œâ”€â”€ utils/                  # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹
â”‚   â”œâ”€â”€ types/                  # TypeScript Ñ‚Ğ¸Ğ¿Ñ‹
â”‚   â”œâ”€â”€ config.ts               # Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ config.json
â”‚   â””â”€â”€ features.config.ts      # Feature flags
â”‚
â””â”€â”€ stores/                     # Zustand stores
    â”œâ”€â”€ auth-store.ts           # ĞĞ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
    â”œâ”€â”€ employees-store.ts      # Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸ĞºĞ¸
    â”œâ”€â”€ ui/                     # UI ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ (Ğ¼Ğ¾Ğ´Ğ°Ğ»ĞºĞ¸, ÑĞ°Ğ¹Ğ´Ğ±Ğ°Ñ€)
    â””â”€â”€ utils/                  # Ğ£Ñ‚Ğ¸Ğ»Ğ¸Ñ‚Ñ‹ Ğ´Ğ»Ñ stores
```

### Backend Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (Clean Architecture)

```
backend/src/
â”œâ”€â”€ YallaBusinessAdmin.Api/           # Presentation Layer
â”‚   â”œâ”€â”€ Controllers/                  # REST API ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ğ»ĞµÑ€Ñ‹
â”‚   â”œâ”€â”€ Middleware/                   # Middleware (Security, CSRF)
â”‚   â”œâ”€â”€ Services/                     # CurrentUserService
â”‚   â””â”€â”€ Program.cs                    # DI Ğ¸ ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”‚
â”œâ”€â”€ YallaBusinessAdmin.Application/   # Application Layer
â”‚   â”œâ”€â”€ {Module}/                     # ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ (Employees, Users, Dashboard)
â”‚   â”‚   â”œâ”€â”€ I{Module}Service.cs       # Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ
â”‚   â”‚   â””â”€â”€ Dtos/                     # DTO ĞºĞ»Ğ°ÑÑÑ‹
â”‚   â””â”€â”€ Common/
â”‚       â”œâ”€â”€ Interfaces/               # ĞĞ±Ñ‰Ğ¸Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹
â”‚       â””â”€â”€ Errors/                   # ErrorCodes, AppException
â”‚
â”œâ”€â”€ YallaBusinessAdmin.Domain/        # Domain Layer
â”‚   â”œâ”€â”€ Entities/                     # Ğ¡ÑƒÑ‰Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ Rich Domain Model
â”‚   â”œâ”€â”€ Enums/                        # ĞŸĞµÑ€ĞµÑ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
â”‚   â””â”€â”€ Interfaces/                   # Repository interfaces
â”‚
â””â”€â”€ YallaBusinessAdmin.Infrastructure/ # Infrastructure Layer
    â”œâ”€â”€ Persistence/                  # EF Core DbContext
    â”œâ”€â”€ Services/                     # Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞµÑ€Ğ²Ğ¸ÑĞ¾Ğ²
    â”‚   â””â”€â”€ Dashboard/                # Ğ Ğ°Ğ·Ğ±Ğ¸Ñ‚Ñ‹Ğµ Ğ¿Ğ¾ SRP
    â”œâ”€â”€ Security/                     # JWT, Password Hasher
    â””â”€â”€ Caching/                      # MemoryCache
```

---

## 3. Frontend: Next.js + React

### 3.1 TypeScript Configuration

```typescript
// tsconfig.json - ÑÑ‚Ñ€Ğ¾Ğ³Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noImplicitReturns": true,
    "noFallthroughCasesInSwitch": true,
    "paths": {
      "@/*": ["./*"]  // ĞĞ±ÑĞ¾Ğ»ÑÑ‚Ğ½Ñ‹Ğµ Ğ¸Ğ¼Ğ¿Ğ¾Ñ€Ñ‚Ñ‹
    }
  }
}
```

### 3.2 Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

#### UI ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ (shadcn/ui)
- ĞŸÑ€Ğ¸Ğ¼Ğ¸Ñ‚Ğ¸Ğ²Ñ‹ Ğ¸Ğ· `@/components/ui/`
- ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ² `components.json`
- ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‡ĞµÑ€ĞµĞ· CSS Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ

```tsx
// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€: components/ui/button.tsx
import { cva, type VariantProps } from 'class-variance-authority'

const buttonVariants = cva(
  "inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-destructive-foreground",
        outline: "border border-input bg-background hover:bg-accent",
        secondary: "bg-secondary text-secondary-foreground",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-10 px-4 py-2",
        sm: "h-9 rounded-md px-3",
        lg: "h-11 rounded-md px-8",
        icon: "h-10 w-10",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)
```

#### Feature ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

```tsx
// components/features/employees/create-employee-dialog.tsx
'use client'

import { useState } from 'react'
import { useForm } from 'react-hook-form'
import { zodResolver } from '@hookform/resolvers/zod'
import * as z from 'zod'
import { useEmployeesStore } from '@/stores/employees-store'
import { parseError, ErrorCodes } from '@/lib/errors'
import { logger } from '@/lib/logger'
import { toast } from 'sonner'

// 1. Zod ÑÑ…ĞµĞ¼Ğ° Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸
const formSchema = z.object({
  fullName: z.string().trim().min(1, 'ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ'),
  phone: z.string().regex(PHONE_REGEX, 'Ğ’Ğ²ĞµĞ´Ğ¸Ñ‚Ğµ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ Ğ½Ğ¾Ğ¼ĞµÑ€'),
  email: z.string().email('ĞĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ email'),
})

type FormValues = z.infer<typeof formSchema>

// 2. ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚
export function CreateEmployeeDialog({ open, onOpenChange }: Props) {
  const { createEmployee } = useEmployeesStore()
  const [loading, setLoading] = useState(false)
  
  const form = useForm<FormValues>({
    resolver: zodResolver(formSchema),
    defaultValues: { fullName: '', phone: '', email: '' },
  })
  
  const onSubmit = async (data: FormValues) => {
    setLoading(true)
    try {
      await createEmployee(data)
      toast.success('Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº ÑĞ¾Ğ·Ğ´Ğ°Ğ½')
      form.reset()
      onOpenChange(false)
    } catch (error) {
      const appError = parseError(error)
      logger.error('Failed to create employee', error, { code: appError.code })
      
      // ĞœĞ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ğ½Ğ° Ğ¿Ğ¾Ğ»Ñ Ñ„Ğ¾Ñ€Ğ¼Ñ‹
      switch (appError.code) {
        case ErrorCodes.EMP_PHONE_EXISTS:
          form.setError('phone', { message: appError.message })
          break
        default:
          toast.error(appError.message, { description: appError.action })
      }
    } finally {
      setLoading(false)
    }
  }
  
  return (
    <Dialog open={open} onOpenChange={onOpenChange}>
      <Form {...form}>
        <form onSubmit={form.handleSubmit(onSubmit)}>
          {/* ... Ñ„Ğ¾Ñ€Ğ¼Ğ° ... */}
        </form>
      </Form>
    </Dialog>
  )
}
```

### 3.3 State Management

#### Zustand Store (ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ)

```typescript
// stores/auth-store.ts
import { create } from 'zustand'
import { persist } from 'zustand/middleware'

interface AuthState {
  user: User | null
  isAuthenticated: boolean
  isLoading: boolean
}

interface AuthActions {
  login: (phone: string, password: string) => Promise<User>
  logout: () => Promise<void>
  hasPermission: (permission: string) => boolean
}

export const useAuthStore = create<AuthState & AuthActions>()(
  persist(
    (set, get) => ({
      // Initial state
      user: null,
      isAuthenticated: false,
      isLoading: false,
      
      // Actions
      login: async (phone, password) => {
        set({ isLoading: true })
        try {
          const response = await authApi.login({ phone, password })
          set({ user: response.user, isAuthenticated: true })
          return response.user
        } finally {
          set({ isLoading: false })
        }
      },
      
      hasPermission: (permission) => {
        const { user } = get()
        if (!user) return false
        if (user.permissions.includes('*')) return true
        return user.permissions.includes(permission)
      },
    }),
    {
      name: 'auth-storage',
      partialize: (state) => ({
        user: state.user,
        isAuthenticated: state.isAuthenticated,
      }),
    }
  )
)
```

#### React Query (ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ğ¾Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ)

```typescript
// lib/queries/employees.queries.ts
import { useQuery, type UseQueryOptions } from '@tanstack/react-query'
import { queryKeys, staleTimes } from '@/lib/query/query-client'
import { employeesRepo } from '@/lib/repositories'

// Query options factory
export function employeesListQueryOptions(params: FilterParams = {}) {
  return {
    queryKey: queryKeys.employees.list(params),
    queryFn: () => employeesRepo.findAll(params),
    staleTime: staleTimes.list,
  } satisfies UseQueryOptions<PaginatedResponse<Employee>>
}

// Hook
export function useEmployeesListQuery(params: FilterParams = {}) {
  return useQuery(employeesListQueryOptions(params))
}
```

### 3.4 API Layer

#### API Client (Axios)

```typescript
// lib/api/client.ts
import axios from 'axios'
import { parseError } from '@/lib/errors'

const apiClient = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:4000/api',
  timeout: 15000,
  withCredentials: true, // HttpOnly cookies
})

// Request interceptor - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Correlation ID
apiClient.interceptors.request.use((config) => {
  const correlationId = `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`
  config.headers['X-Correlation-ID'] = correlationId
  return config
})

// Response interceptor - Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¾ÑˆĞ¸Ğ±ĞºĞ¸ Ğ¸ refresh token
apiClient.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401 && !error.config._retry) {
      error.config._retry = true
      try {
        await axios.post(`${apiClient.defaults.baseURL}/auth/refresh`, {}, { withCredentials: true })
        return apiClient(error.config)
      } catch {
        clearAuthAndRedirect()
      }
    }
    return Promise.reject(error)
  }
)
```

#### Repository Pattern

```typescript
// lib/repositories/employees.repository.ts
export class EmployeesRepository extends BaseRepository<Employee, CreateDto, UpdateDto> {
  constructor(client: AxiosInstance) {
    super(client, '/employees')
  }
  
  async getDetail(id: string): Promise<EmployeeDetail> {
    const { data } = await this.client.get(`${this.endpoint}/${id}`)
    return data
  }
  
  async toggleActivation(id: string): Promise<Employee> {
    const { data } = await this.client.patch(`${this.endpoint}/${id}/activate`)
    return data
  }
}
```

### 3.5 CQRS-lite Pattern

#### Commands (Write operations)

```typescript
// lib/commands/employees.commands.ts
import { useMutation, useQueryClient } from '@tanstack/react-query'
import { toast } from 'sonner'
import { emitEvent, AppEvents } from '@/lib/events'

export function useCreateEmployeeCommand(options = {}) {
  const queryClient = useQueryClient()
  
  return useMutation({
    mutationFn: (data: CreateEmployeeRequest) => employeesRepo.create(data),
    
    onSuccess: (employee) => {
      queryClient.invalidateQueries({ queryKey: queryKeys.employees.lists() })
      toast.success('Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº ÑĞ¾Ğ·Ğ´Ğ°Ğ½', { description: employee.fullName })
      emitEvent(AppEvents.EMPLOYEE_CREATED, { id: employee.id })
      options.onSuccess?.(employee)
    },
    
    onError: (error) => {
      const appError = parseError(error)
      toast.error(appError.message, { description: appError.action })
      options.onError?.(error)
    },
  })
}
```

#### Optimistic Updates

```typescript
export function useUpdateEmployeeCommand(options = {}) {
  const queryClient = useQueryClient()
  
  return useMutation({
    mutationFn: ({ id, data }) => employeesRepo.update(id, data),
    
    // Optimistic update
    onMutate: async ({ id, data }) => {
      await queryClient.cancelQueries({ queryKey: queryKeys.employees.detail(id) })
      const previous = queryClient.getQueryData(queryKeys.employees.detail(id))
      
      queryClient.setQueryData(queryKeys.employees.detail(id), (old) => ({
        ...old,
        ...data,
      }))
      
      return { previous }
    },
    
    // Rollback on error
    onError: (error, { id }, context) => {
      if (context?.previous) {
        queryClient.setQueryData(queryKeys.employees.detail(id), context.previous)
      }
      toast.error(parseError(error).message)
    },
    
    onSuccess: (_, { id }) => {
      queryClient.invalidateQueries({ queryKey: queryKeys.employees.detail(id) })
      toast.success('Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½')
    },
  })
}
```

### 3.6 Event Bus (Pub/Sub)

```typescript
// lib/events/event-bus.ts
class EventBus {
  private listeners = new Map<string, Set<EventCallback>>()
  
  on<T>(event: string, callback: EventCallback<T>): UnsubscribeFn {
    if (!this.listeners.has(event)) {
      this.listeners.set(event, new Set())
    }
    this.listeners.get(event)!.add(callback)
    return () => this.off(event, callback)
  }
  
  emit<T>(event: string, data: T): void {
    this.listeners.get(event)?.forEach((cb) => cb(data))
  }
}

export const eventBus = new EventBus()

// Type-safe events
export const AppEvents = {
  EMPLOYEE_CREATED: 'employee:created',
  EMPLOYEE_UPDATED: 'employee:updated',
  ORDER_FROZEN: 'order:frozen',
  // ...
} as const

// React Hook
export function useEventBus<E extends AppEvent>(event: E, callback: (data) => void) {
  useEffect(() => {
    return eventBus.on(event, callback)
  }, [event, callback])
}
```

---

## 4. Backend: ASP.NET Core

### 4.1 Clean Architecture Layers

```
Domain         â† Entities, Enums, Business Logic (Ğ½ĞµÑ‚ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹)
    â†‘
Application    â† Interfaces, DTOs, Errors (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Domain)
    â†‘
Infrastructure â† EF Core, Services (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Application)
    â†‘
Api            â† Controllers, Middleware (Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ñ‚ Ğ¾Ñ‚ Ğ²ÑĞµÑ…)
```

### 4.2 Rich Domain Model

```csharp
// Domain/Entities/Employee.cs
public class Employee
{
    public Guid Id { get; set; }
    public Guid CompanyId { get; set; }
    public Guid ProjectId { get; set; }
    public string FullName { get; set; } = string.Empty;
    public string Phone { get; set; } = string.Empty;
    public bool IsActive { get; set; }
    public ServiceType? ServiceType { get; set; }
    
    // Navigation properties
    public LunchSubscription? LunchSubscription { get; set; }
    public ICollection<Order> Orders { get; set; } = new List<Order>();
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // RICH DOMAIN MODEL - Business Logic Methods
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    public bool IsDeleted => DeletedAt.HasValue;
    public bool HasActiveLunchSubscription => LunchSubscription?.IsActive == true;
    public bool CanSwitchToCompensation => !HasActiveLunchSubscription;
    
    public bool IsWorkingToday()
    {
        if (WorkingDays == null || WorkingDays.Length == 0)
            return true;
        return WorkingDays.Contains((int)DateTime.UtcNow.DayOfWeek);
    }
    
    public void Activate()
    {
        IsActive = true;
        UpdatedAt = DateTime.UtcNow;
    }
    
    public void Deactivate()
    {
        IsActive = false;
        UpdatedAt = DateTime.UtcNow;
        
        // Pause active orders
        foreach (var order in Orders.Where(o => o.Status == OrderStatus.Active))
        {
            order.Pause();
        }
    }
    
    public void SwitchServiceType(ServiceType newType)
    {
        if (newType == ServiceType.Compensation && HasActiveLunchSubscription)
        {
            throw new InvalidOperationException(
                "ĞĞµĞ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒÑÑ Ğ½Ğ° ĞšĞ¾Ğ¼Ğ¿ĞµĞ½ÑĞ°Ñ†Ğ¸Ñ: Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ°Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºĞ° Ğ½Ğ° Ğ¾Ğ±ĞµĞ´Ñ‹."
            );
        }
        ServiceType = newType;
        UpdatedAt = DateTime.UtcNow;
    }
}
```

### 4.3 Controller Pattern

```csharp
// Api/Controllers/EmployeesController.cs
[ApiController]
[ApiVersion("1.0")]
[Route("api/v{version:apiVersion}/employees")]
[Route("api/employees")] // Backwards compatibility
[Authorize]
public class EmployeesController : BaseApiController
{
    private readonly IEmployeesService _employeesService;
    
    [HttpGet]
    [ProducesResponseType(StatusCodes.Status200OK)]
    public async Task<ActionResult> GetAll(
        [FromQuery] int page = 1,
        [FromQuery] int pageSize = 10,
        [FromQuery] string? search = null,
        CancellationToken ct = default)
    {
        var (companyId, error) = RequireCompanyId();
        if (error != null) return error;
        
        var result = await _employeesService.GetAllAsync(page, pageSize, search, companyId.Value, ct);
        return Ok(result);
    }
    
    [HttpPost]
    [ProducesResponseType(typeof(EmployeeResponse), StatusCodes.Status201Created)]
    [ProducesResponseType(StatusCodes.Status409Conflict)]
    public async Task<ActionResult<EmployeeResponse>> Create(
        [FromBody] CreateEmployeeRequest request,
        CancellationToken ct)
    {
        var (companyId, error) = RequireCompanyId();
        if (error != null) return error;
        
        var result = await _employeesService.CreateAsync(request, companyId.Value, GetUserId(), ct);
        return CreatedAtAction(nameof(GetById), new { id = result.Id }, result);
    }
}
```

### 4.4 Service Layer Pattern

```csharp
// Infrastructure/Services/EmployeesService.cs
public class EmployeesService : IEmployeesService
{
    private readonly AppDbContext _context;
    private readonly IAuditService _audit;
    
    public async Task<EmployeeResponse> CreateAsync(
        CreateEmployeeRequest request, 
        Guid companyId, 
        Guid currentUserId, 
        CancellationToken ct)
    {
        // Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°
        var existing = await _context.Employees
            .FirstOrDefaultAsync(e => e.Phone == request.Phone && !e.DeletedAt.HasValue, ct);
        
        if (existing != null)
        {
            throw new AppException(
                ErrorCodes.EMP_PHONE_EXISTS,
                "Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº Ñ Ñ‚Ğ°ĞºĞ¸Ğ¼ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ¾Ğ¼ ÑƒĞ¶Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚",
                ErrorType.Conflict
            );
        }
        
        var employee = new Employee
        {
            Id = Guid.NewGuid(),
            CompanyId = companyId,
            FullName = request.FullName,
            Phone = request.Phone,
            // ...
        };
        
        _context.Employees.Add(employee);
        await _context.SaveChangesAsync(ct);
        
        await _audit.LogAsync(AuditAction.Create, "Employee", employee.Id, currentUserId);
        
        return MapToResponse(employee);
    }
}
```

### 4.5 Dependency Injection

```csharp
// Infrastructure/DependencyInjection.cs
public static class DependencyInjection
{
    public static IServiceCollection AddInfrastructure(
        this IServiceCollection services, 
        IConfiguration configuration)
    {
        // Database
        services.AddDbContext<AppDbContext>(options =>
        {
            options.UseNpgsql(configuration.GetConnectionString("DefaultConnection"));
        });
        
        // Repository Pattern
        services.AddScoped(typeof(IRepository<>), typeof(Repository<>));
        services.AddScoped<IUnitOfWork, UnitOfWork>();
        
        // Security
        services.AddSingleton<IPasswordHasher, PasswordHasher>();
        services.AddSingleton<IJwtService, JwtService>();
        
        // Services (SRP - Split for Single Responsibility)
        services.AddScoped<IDashboardMetricsService, DashboardMetricsService>();
        services.AddScoped<IOrderManagementService, OrderManagementService>();
        services.AddScoped<IDashboardService, DashboardService>(); // Facade
        
        services.AddScoped<IEmployeesService, EmployeesService>();
        services.AddScoped<IUsersService, UsersService>();
        // ...
        
        return services;
    }
}
```

---

## 5. ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ¸ Ğ¿Ğ¾Ğ´Ñ…Ğ¾Ğ´Ñ‹

### 5.1 Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹

| ĞŸĞ°Ñ‚Ñ‚ĞµÑ€Ğ½ | Ğ¡Ğ»Ğ¾Ğ¹ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|---------|------|----------|
| **Repository** | Frontend + Backend | ĞĞ±ÑÑ‚Ñ€Ğ°ĞºÑ†Ğ¸Ñ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ğ´Ğ°Ğ½Ğ½Ñ‹Ğ¼ |
| **CQRS-lite** | Frontend | Ğ Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ queries/commands |
| **Facade** | Backend | DashboardService Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ÑĞµÑ‚ ÑĞµÑ€Ğ²Ğ¸ÑÑ‹ |
| **Result Pattern** | Backend | ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ñ… Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº |
| **Rich Domain Model** | Backend | Ğ‘Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ğ² ÑÑƒÑ‰Ğ½Ğ¾ÑÑ‚ÑÑ… |
| **Event Bus** | Frontend | Pub/Sub Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ² |
| **Compound Components** | Frontend | Wizard, Ñ„Ğ¾Ñ€Ğ¼-ÑĞµĞºÑ†Ğ¸Ğ¸ |
| **URL State** | Frontend | Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ² query Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ°Ñ… |
| **Optimistic Updates** | Frontend | ĞœĞ³Ğ½Ğ¾Ğ²ĞµĞ½Ğ½Ğ°Ñ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ²ÑĞ·ÑŒ |

### 5.2 Naming Conventions

#### Frontend (TypeScript)

```typescript
// Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ¸ Ğ¿Ğ°Ğ¿ĞºĞ¸
employees-store.ts       // kebab-case Ğ´Ğ»Ñ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
useEmployeesList.ts      // camelCase Ğ´Ğ»Ñ Ñ…ÑƒĞºĞ¾Ğ²
EmployeesTable.tsx       // PascalCase Ğ´Ğ»Ñ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ğ¾Ğ²

// ĞŸĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¸ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸
const employeesData = []        // camelCase
function calculateTotal() {}   // camelCase
const PHONE_REGEX = /pattern/  // UPPER_SNAKE_CASE Ğ´Ğ»Ñ ĞºĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚

// Ğ¢Ğ¸Ğ¿Ñ‹ Ğ¸ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑÑ‹
interface EmployeeResponse {}  // PascalCase
type ServiceType = 'LUNCH'     // PascalCase

// Enum-like objects
export const ErrorCodes = {
  AUTH_INVALID_CREDENTIALS: 'AUTH_INVALID_CREDENTIALS',
  EMP_PHONE_EXISTS: 'EMP_PHONE_EXISTS',
} as const
```

#### Backend (C#)

```csharp
// Ğ¤Ğ°Ğ¹Ğ»Ñ‹ Ğ¸ ĞºĞ»Ğ°ÑÑÑ‹
EmployeesService.cs           // PascalCase
IEmployeesService.cs          // I-prefix Ğ´Ğ»Ñ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ²

// ĞœĞµÑ‚Ğ¾Ğ´Ñ‹ Ğ¸ ÑĞ²Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°
public async Task<Result> GetAllAsync()  // PascalCase + Async suffix
public string FullName { get; set; }     // PascalCase

// ĞŸÑ€Ğ¸Ğ²Ğ°Ñ‚Ğ½Ñ‹Ğµ Ğ¿Ğ¾Ğ»Ñ
private readonly AppDbContext _context;  // _camelCase prefix

// ĞšĞ¾Ğ½ÑÑ‚Ğ°Ğ½Ñ‚Ñ‹
public const string AUTH_USER_BLOCKED = "AUTH_USER_BLOCKED";  // UPPER_SNAKE
```

### 5.3 Folder Structure Rules

1. **Colocation** - ÑĞ²ÑĞ·Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹ Ñ€ÑĞ´Ğ¾Ğ¼ Ğ´Ñ€ÑƒĞ³ Ñ Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¼
2. **Feature-based** - Ğ³Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° Ğ¿Ğ¾ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»Ñƒ, Ğ½Ğµ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ñƒ
3. **Index exports** - `index.ts` Ğ´Ğ»Ñ public API Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ
4. **Flat over nested** - Ğ¸Ğ·Ğ±ĞµĞ³Ğ°ĞµĞ¼ Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ¾Ğ¹ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸

```typescript
// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾: components/features/employees/
â”œâ”€â”€ create-employee-dialog.tsx
â”œâ”€â”€ edit-employee-dialog.tsx
â”œâ”€â”€ employees-stats.tsx
â””â”€â”€ index.ts

// âŒ ĞŸĞ»Ğ¾Ñ…Ğ¾: Ğ³Ğ»ÑƒĞ±Ğ¾ĞºĞ°Ñ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ
â”œâ”€â”€ components/
â”‚   â””â”€â”€ features/
â”‚       â””â”€â”€ employees/
â”‚           â””â”€â”€ dialogs/
â”‚               â””â”€â”€ create/
â”‚                   â””â”€â”€ form/
â”‚                       â””â”€â”€ CreateEmployeeForm.tsx
```

---

## 6. Ğ¡Ñ‚Ğ¸Ğ»Ğ¸ÑÑ‚Ğ¸ĞºĞ° ĞºĞ¾Ğ´Ğ°

### 6.1 TypeScript Guidelines

```typescript
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. Ğ¯Ğ²Ğ½Ğ°Ñ Ñ‚Ğ¸Ğ¿Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ñ… API
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾
export function useEmployeesList(params: FilterParams): UseQueryResult<Employee[]>

// âŒ ĞŸĞ»Ğ¾Ñ…Ğ¾ - implicit return type
export function useEmployeesList(params: FilterParams)

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. Type assertions ĞºĞ°Ğº Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğ¹ resort
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾ - type guard
function isEmployee(value: unknown): value is Employee {
  return typeof value === 'object' && value !== null && 'id' in value
}

// âŒ ĞŸĞ»Ğ¾Ñ…Ğ¾ - unsafe cast
const employee = data as Employee

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. Discriminated unions Ğ´Ğ»Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğ¹
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

type AsyncState<T> =
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: T }
  | { status: 'error'; error: AppError }

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. Zod Ğ´Ğ»Ñ runtime Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const employeeSchema = z.object({
  fullName: z.string().min(1, 'ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ'),
  phone: z.string().regex(PHONE_REGEX, 'ĞĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚'),
  email: z.string().email('ĞĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ email'),
})

type EmployeeFormData = z.infer<typeof employeeSchema>
```

### 6.2 React Guidelines

```tsx
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹ + hooks
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾
export function EmployeesList({ projectId }: Props) {
  const { data, isLoading } = useEmployeesListQuery({ projectId })
  // ...
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. Props interface Ğ½Ğ°Ğ´ inline types
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

interface EmployeesListProps {
  projectId: string
  onSelect?: (employee: Employee) => void
}

export function EmployeesList({ projectId, onSelect }: EmployeesListProps) {}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. ĞœĞµĞ¼Ğ¾Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾ - Ğ´Ğ¾Ñ€Ğ¾Ğ³Ğ¸Ğµ Ğ²Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ
const sortedEmployees = useMemo(() => 
  employees.sort((a, b) => a.name.localeCompare(b.name)),
  [employees]
)

// âŒ ĞŸĞ»Ğ¾Ñ…Ğ¾ - Ğ¸Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ñ‡Ğ½Ğ°Ñ Ğ¼ĞµĞ¼Ğ¾Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
const userName = useMemo(() => user.name, [user.name])

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. Controlled vs Uncontrolled ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾ - controlled Ñ react-hook-form
<Controller
  name="phone"
  control={control}
  render={({ field }) => (
    <Input {...field} placeholder="Ğ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½" />
  )}
/>

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 5. Early returns Ğ´Ğ»Ñ Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼Ğ¾ÑÑ‚Ğ¸
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

export function EmployeeCard({ employee }: Props) {
  if (!employee) return null
  if (employee.isDeleted) return <DeletedBadge />
  
  return (
    <Card>
      <CardContent>{employee.fullName}</CardContent>
    </Card>
  )
}
```

### 6.3 C# Guidelines

```csharp
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. Async/Await Ğ²ĞµĞ·Ğ´Ğµ Ğ³Ğ´Ğµ Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾
public async Task<Employee> GetByIdAsync(Guid id, CancellationToken ct)
{
    return await _context.Employees
        .FirstOrDefaultAsync(e => e.Id == id, ct);
}

// âŒ ĞŸĞ»Ğ¾Ñ…Ğ¾ - Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ¾Ñ‚Ğ¾Ğº
public Employee GetById(Guid id)
{
    return _context.Employees
        .FirstOrDefault(e => e.Id == id);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 2. CancellationToken Ğ² async Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ°Ñ…
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾
public async Task<List<Employee>> GetAllAsync(CancellationToken ct = default)
{
    return await _context.Employees.ToListAsync(ct);
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 3. Null-conditional Ğ¸ null-coalescing Ğ¾Ğ¿ĞµÑ€Ğ°Ñ‚Ğ¾Ñ€Ñ‹
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾
var name = employee?.FullName ?? "ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğ¹";
var orders = employee?.Orders?.Count ?? 0;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 4. Expression-bodied members Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ÑÑ‚Ñ‹Ñ… Ğ¼ĞµÑ‚Ğ¾Ğ´Ğ¾Ğ²
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾
public bool IsActive => !DeletedAt.HasValue && Status == EmployeeStatus.Active;
public string DisplayName => $"{FirstName} {LastName}";

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 5. Primary constructors (C# 12)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾ - C# 12+
public class EmployeesService(AppDbContext context, IAuditService audit) : IEmployeesService
{
    public async Task<Employee> CreateAsync(...)
    {
        // context Ğ¸ audit Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ Ğ½Ğ°Ğ¿Ñ€ÑĞ¼ÑƒÑ
    }
}
```

### 6.4 ESLint Configuration

```javascript
// eslint.config.mjs - ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ğµ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°

const eslintConfig = defineConfig([
  ...nextVitals,
  ...nextTs,
  {
    rules: {
      // TypeScript
      "@typescript-eslint/no-unused-vars": ["warn", {
        argsIgnorePattern: "^_",
        varsIgnorePattern: "^_",
      }],
      "@typescript-eslint/no-explicit-any": "warn",
      "@typescript-eslint/no-non-null-assertion": "warn",
      
      // React
      "react-hooks/rules-of-hooks": "error",
      "react-hooks/exhaustive-deps": "warn",
      "react/jsx-key": "error",
      "react/self-closing-comp": "warn",
      
      // Code Quality
      "no-console": ["warn", { allow: ["warn", "error", "info"] }],
      "no-var": "error",
      "prefer-const": "warn",
      "prefer-template": "warn",
      "no-nested-ternary": "warn",
      eqeqeq: ["error", "always", { null: "ignore" }],
      "no-throw-literal": "error",
    },
  },
]);
```

---

## 7. UI/UX Ğ¸ Ğ²ĞµÑ€ÑÑ‚ĞºĞ°

### 7.1 Design System

#### CSS Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ (Tailwind + shadcn)

```css
/* globals.css */
@layer base {
  :root {
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    /* Light Theme - HSL Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ´Ğ»Ñ Ğ³Ğ¸Ğ±ĞºĞ¾ÑÑ‚Ğ¸                      */
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    --background: 0 0% 100%;
    --foreground: 0 0% 3.9%;
    --card: 0 0% 100%;
    --card-foreground: 0 0% 3.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 3.9%;
    --primary: 0 0% 9%;
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96.1%;
    --secondary-foreground: 0 0% 9%;
    --muted: 0 0% 96.1%;
    --muted-foreground: 0 0% 45.1%;
    --accent: 0 0% 96.1%;
    --accent-foreground: 0 0% 9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 98%;
    --border: 0 0% 89.8%;
    --input: 0 0% 89.8%;
    --ring: 0 0% 3.9%;
    --radius: 0.5rem;
    
    /* Sidebar */
    --sidebar-background: 0 0% 98%;
    --sidebar-foreground: 240 5.3% 26.1%;
    --sidebar-primary: 240 5.9% 10%;
    --sidebar-primary-foreground: 0 0% 98%;
  }

  .dark {
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    /* Dark Theme                                                  */
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    --background: 0 0% 3.9%;
    --foreground: 0 0% 98%;
    --primary: 0 0% 98%;
    --primary-foreground: 0 0% 9%;
    /* ... */
  }
}
```

#### Tailwind Config

```typescript
// tailwind.config.ts (Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½ Ğ² globals.css Ğ´Ğ»Ñ Tailwind 4)
@import "tailwindcss";

@theme {
  --font-sans: "Inter", "Noto Sans", sans-serif;
  --font-mono: "Fira Code", monospace;
}
```

### 7.2 Component Variants (CVA)

```typescript
// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ class-variance-authority Ğ´Ğ»Ñ Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ğ¾Ğ²

import { cva, type VariantProps } from "class-variance-authority"

const buttonVariants = cva(
  // Base styles
  "inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50",
  {
    variants: {
      variant: {
        default: "bg-primary text-primary-foreground hover:bg-primary/90",
        destructive: "bg-destructive text-white hover:bg-destructive/90",
        outline: "border bg-background shadow-xs hover:bg-accent",
        secondary: "bg-secondary text-secondary-foreground hover:bg-secondary/80",
        ghost: "hover:bg-accent hover:text-accent-foreground",
        link: "text-primary underline-offset-4 hover:underline",
      },
      size: {
        default: "h-9 px-4 py-2",
        sm: "h-8 rounded-md gap-1.5 px-3",
        lg: "h-10 rounded-md px-6",
        icon: "size-9",
        "icon-sm": "size-8",
      },
    },
    defaultVariants: {
      variant: "default",
      size: "default",
    },
  }
)
```

### 7.3 Responsive Design

```tsx
// ĞŸĞ¾Ğ´Ñ…Ğ¾Ğ´ Mobile-first Ñ Tailwind breakpoints

// âœ… Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¾ - mobile-first
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
  <Card />
</div>

// Breakpoints:
// sm: 640px   - ĞŸĞ»Ğ°Ğ½ÑˆĞµÑ‚ Ğ¿Ğ¾Ñ€Ñ‚Ñ€ĞµÑ‚
// md: 768px   - ĞŸĞ»Ğ°Ğ½ÑˆĞµÑ‚ Ğ»Ğ°Ğ½Ğ´ÑˆĞ°Ñ„Ñ‚
// lg: 1024px  - Ğ”ĞµÑĞºÑ‚Ğ¾Ğ¿
// xl: 1280px  - Ğ¨Ğ¸Ñ€Ğ¾ĞºĞ¸Ğ¹ Ğ´ĞµÑĞºÑ‚Ğ¾Ğ¿
// 2xl: 1536px - Ğ£Ğ»ÑŒÑ‚Ñ€Ğ° ÑˆĞ¸Ñ€Ğ¾ĞºĞ¸Ğ¹
```

### 7.4 Loading States & Skeletons

```tsx
// components/skeletons/list-skeleton.tsx
export function ListSkeleton({ rows = 5 }: { rows?: number }) {
  return (
    <div className="space-y-4">
      {Array.from({ length: rows }).map((_, i) => (
        <div key={i} className="flex items-center space-x-4">
          <Skeleton className="h-12 w-12 rounded-full" />
          <div className="space-y-2">
            <Skeleton className="h-4 w-[250px]" />
            <Skeleton className="h-4 w-[200px]" />
          </div>
        </div>
      ))}
    </div>
  )
}

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
function EmployeesPage() {
  const { data, isLoading } = useEmployeesListQuery()
  
  if (isLoading) return <ListSkeleton rows={10} />
  
  return <EmployeesTable data={data} />
}
```

### 7.5 Animations (Framer Motion)

```tsx
// ĞĞ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ğ¾ÑĞ²Ğ»ĞµĞ½Ğ¸Ñ
import { motion } from "framer-motion"

const fadeInUp = {
  initial: { opacity: 0, y: 20 },
  animate: { opacity: 1, y: 0 },
  exit: { opacity: 0, y: -20 },
}

export function AnimatedCard({ children }: PropsWithChildren) {
  return (
    <motion.div
      variants={fadeInUp}
      initial="initial"
      animate="animate"
      exit="exit"
      transition={{ duration: 0.3 }}
    >
      {children}
    </motion.div>
  )
}

// Staggered list animation
const containerVariants = {
  animate: {
    transition: {
      staggerChildren: 0.1,
    },
  },
}

export function AnimatedList({ children }: PropsWithChildren) {
  return (
    <motion.ul variants={containerVariants} initial="initial" animate="animate">
      {children}
    </motion.ul>
  )
}
```

### 7.6 Toast ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ (Sonner)

```tsx
import { toast } from "sonner"

// Success
toast.success("Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº ÑĞ¾Ğ·Ğ´Ğ°Ğ½", {
  description: "Ğ˜Ğ²Ğ°Ğ½ Ğ˜Ğ²Ğ°Ğ½Ğ¾Ğ² Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ĞµĞ½ Ğ² ÑĞ¸ÑÑ‚ĞµĞ¼Ñƒ",
})

// Error
toast.error("ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸", {
  description: "ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ° Ğ¸Ğ»Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ñƒ",
})

// Loading promise
toast.promise(saveEmployee(data), {
  loading: "Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ...",
  success: "Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾ ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾",
  error: "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿Ñ€Ğ¸ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğ¸",
})

// With action
toast.error("Ğ¡ĞµÑÑĞ¸Ñ Ğ¸ÑÑ‚ĞµĞºĞ»Ğ°", {
  action: {
    label: "Ğ’Ğ¾Ğ¹Ñ‚Ğ¸ ÑĞ½Ğ¾Ğ²Ğ°",
    onClick: () => router.push("/login"),
  },
})
```

---

## 8. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

### 8.1 Ğ˜ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº

```
AppError (Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ĞºĞ»Ğ°ÑÑ)
â”œâ”€â”€ AuthError (AUTH_*)
â”‚   â”œâ”€â”€ AUTH_INVALID_CREDENTIALS
â”‚   â”œâ”€â”€ AUTH_USER_BLOCKED
â”‚   â”œâ”€â”€ AUTH_REFRESH_EXPIRED
â”‚   â””â”€â”€ AUTH_OTP_INVALID
â”œâ”€â”€ ValidationError (VALIDATION_*)
â”‚   â”œâ”€â”€ VALIDATION_REQUIRED_FIELD
â”‚   â””â”€â”€ VALIDATION_INVALID_FORMAT
â”œâ”€â”€ BusinessError (*_*)
â”‚   â”œâ”€â”€ EMP_PHONE_EXISTS
â”‚   â”œâ”€â”€ ORDER_ALREADY_FROZEN
â”‚   â””â”€â”€ SUBSCRIPTION_NOT_FOUND
â””â”€â”€ SystemError (SYSTEM_*)
    â”œâ”€â”€ SYSTEM_INTERNAL_ERROR
    â””â”€â”€ SYSTEM_SERVICE_UNAVAILABLE
```

### 8.2 Backend Error Response

```csharp
// Application/Common/Errors/AppException.cs
public class AppException : Exception
{
    public string Code { get; }
    public ErrorType Type { get; }
    
    public AppException(string code, string message, ErrorType type = ErrorType.BusinessError)
        : base(message)
    {
        Code = code;
        Type = type;
    }
}

public enum ErrorType
{
    Validation = 400,
    Authentication = 401,
    Authorization = 403,
    NotFound = 404,
    Conflict = 409,
    BusinessError = 422,
    RateLimited = 429,
    Internal = 500,
}

// Application/Common/Errors/ErrorCodes.cs
public static class ErrorCodes
{
    // Auth
    public const string AUTH_INVALID_CREDENTIALS = "AUTH_INVALID_CREDENTIALS";
    public const string AUTH_USER_BLOCKED = "AUTH_USER_BLOCKED";
    public const string AUTH_REFRESH_EXPIRED = "AUTH_REFRESH_EXPIRED";
    
    // Employees
    public const string EMP_PHONE_EXISTS = "EMP_PHONE_EXISTS";
    public const string EMP_NOT_FOUND = "EMP_NOT_FOUND";
    
    // Orders
    public const string ORDER_ALREADY_FROZEN = "ORDER_ALREADY_FROZEN";
    public const string ORDER_NOT_ACTIVE = "ORDER_NOT_ACTIVE";
    
    // Subscription
    public const string SUBSCRIPTION_NOT_FOUND = "SUBSCRIPTION_NOT_FOUND";
    public const string SUBSCRIPTION_ALREADY_ACTIVE = "SUBSCRIPTION_ALREADY_ACTIVE";
}

// Controller usage
throw new AppException(
    ErrorCodes.EMP_PHONE_EXISTS,
    "Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº Ñ Ñ‚Ğ°ĞºĞ¸Ğ¼ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ¾Ğ¼ ÑƒĞ¶Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚",
    ErrorType.Conflict
);
```

### 8.3 Frontend Error Parsing

```typescript
// lib/errors/index.ts
export const ErrorCodes = {
  // Auth
  AUTH_INVALID_CREDENTIALS: 'AUTH_INVALID_CREDENTIALS',
  AUTH_USER_BLOCKED: 'AUTH_USER_BLOCKED',
  AUTH_REFRESH_EXPIRED: 'AUTH_REFRESH_EXPIRED',
  
  // Employees
  EMP_PHONE_EXISTS: 'EMP_PHONE_EXISTS',
  EMP_NOT_FOUND: 'EMP_NOT_FOUND',
  
  // Generic
  NETWORK_ERROR: 'NETWORK_ERROR',
  UNKNOWN_ERROR: 'UNKNOWN_ERROR',
} as const

export interface AppError {
  code: string
  message: string
  action?: string
  field?: string
}

// Ğ¡Ğ»Ğ¾Ğ²Ğ°Ñ€ÑŒ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº Ñ Ñ€ÑƒÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹ Ğ¸ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸ÑĞ¼Ğ¸
const errorDictionary: Record<string, Partial<AppError>> = {
  [ErrorCodes.AUTH_INVALID_CREDENTIALS]: {
    message: 'ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½ Ğ¸Ğ»Ğ¸ Ğ¿Ğ°Ñ€Ğ¾Ğ»ÑŒ',
    action: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ²Ğ²ĞµĞ´Ñ‘Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ',
  },
  [ErrorCodes.AUTH_USER_BLOCKED]: {
    message: 'Ğ’Ğ°Ñˆ Ğ°ĞºĞºĞ°ÑƒĞ½Ñ‚ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½',
    action: 'ĞĞ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğº Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¸ÑÑ‚Ñ€Ğ°Ñ‚Ğ¾Ñ€Ñƒ',
  },
  [ErrorCodes.EMP_PHONE_EXISTS]: {
    message: 'Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº Ñ Ñ‚Ğ°ĞºĞ¸Ğ¼ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ¾Ğ¼ ÑƒĞ¶Ğµ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒĞµÑ‚',
    field: 'phone',
  },
  [ErrorCodes.NETWORK_ERROR]: {
    message: 'ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ Ñ ÑĞµÑ‚ÑŒÑ',
    action: 'ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑŒÑ‚Ğµ Ğ¸Ğ½Ñ‚ĞµÑ€Ğ½ĞµÑ‚-ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğµ',
  },
}

// ĞŸĞ°Ñ€ÑĞµÑ€ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº
export function parseError(error: unknown): AppError {
  // Axios error
  if (isAxiosError(error)) {
    const data = error.response?.data
    
    // Backend structured error
    if (data?.code && typeof data.code === 'string') {
      const dictEntry = errorDictionary[data.code]
      return {
        code: data.code,
        message: dictEntry?.message || data.message || 'ĞĞµĞ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ğ°Ñ Ğ¾ÑˆĞ¸Ğ±ĞºĞ°',
        action: dictEntry?.action,
        field: dictEntry?.field,
      }
    }
    
    // Network error
    if (error.code === 'ERR_NETWORK') {
      return { code: ErrorCodes.NETWORK_ERROR, ...errorDictionary[ErrorCodes.NETWORK_ERROR] }
    }
  }
  
  // Fallback
  return {
    code: ErrorCodes.UNKNOWN_ERROR,
    message: 'ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ°',
    action: 'ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ° Ğ¸Ğ»Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğ² Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºÑƒ',
  }
}
```

### 8.4 Form Error Mapping

```tsx
// ĞœĞ°Ğ¿Ğ¿Ğ¸Ğ½Ğ³ Ğ¾ÑˆĞ¸Ğ±Ğ¾Ğº API Ğ½Ğ° Ğ¿Ğ¾Ğ»Ñ Ñ„Ğ¾Ñ€Ğ¼Ñ‹
const onSubmit = async (data: FormValues) => {
  try {
    await createEmployee(data)
    toast.success('Ğ¡Ğ¾Ñ‚Ñ€ÑƒĞ´Ğ½Ğ¸Ğº ÑĞ¾Ğ·Ğ´Ğ°Ğ½')
  } catch (error) {
    const appError = parseError(error)
    
    // Ğ•ÑĞ»Ğ¸ Ğ¾ÑˆĞ¸Ğ±ĞºĞ° ÑĞ²ÑĞ·Ğ°Ğ½Ğ° Ñ Ğ¿Ğ¾Ğ»ĞµĞ¼ - Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ inline
    if (appError.field) {
      form.setError(appError.field as keyof FormValues, {
        type: 'server',
        message: appError.message,
      })
    } else {
      // Ğ˜Ğ½Ğ°Ñ‡Ğµ - toast
      toast.error(appError.message, { description: appError.action })
    }
    
    // Ğ›Ğ¾Ğ³Ğ¸Ñ€ÑƒĞµĞ¼ Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸
    logger.error('Create employee failed', error, {
      code: appError.code,
      correlationId: getCorrelationId(error),
    })
  }
}
```

### 8.5 Correlation ID Ğ´Ğ»Ñ Ñ‚Ñ€ĞµĞ¹ÑĞ¸Ğ½Ğ³Ğ°

```typescript
// lib/api/client.ts - Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ correlation ID
apiClient.interceptors.request.use((config) => {
  const correlationId = `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`
  config.headers['X-Correlation-ID'] = correlationId
  config.metadata = { correlationId }
  return config
})

// lib/logger/index.ts
export const logger = {
  error(message: string, error: unknown, context?: Record<string, unknown>) {
    const correlationId = context?.correlationId || getCorrelationId(error)
    
    console.error(`[${correlationId}] ${message}`, {
      error,
      ...context,
      timestamp: new Date().toISOString(),
    })
    
    // Ğ’ production - Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ² Sentry/LogRocket
    if (process.env.NODE_ENV === 'production') {
      // Sentry.captureException(error, { extra: { correlationId, ...context } })
    }
  },
}
```

---

## 9. Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### 9.1 Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      JWT + HttpOnly Cookies                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. Login Request                                                â”‚
â”‚     POST /api/auth/login                                         â”‚
â”‚     Body: { phone, password }                                    â”‚
â”‚                                                                  â”‚
â”‚  2. Server Response                                              â”‚
â”‚     Set-Cookie: accessToken (HttpOnly, Secure, SameSite=Strict)  â”‚
â”‚     Set-Cookie: refreshToken (HttpOnly, Secure, SameSite=Strict) â”‚
â”‚     Body: { user: {...} }                                        â”‚
â”‚                                                                  â”‚
â”‚  3. Authenticated Requests                                       â”‚
â”‚     Cookie header Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ¾Ğ¼            â”‚
â”‚     withCredentials: true Ğ² axios                                â”‚
â”‚                                                                  â”‚
â”‚  4. Token Refresh (automatic)                                    â”‚
â”‚     POST /api/auth/refresh                                       â”‚
â”‚     Cookie: refreshToken                                         â”‚
â”‚     â†’ New accessToken Ğ² response cookie                          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 Security Headers (Backend)

```csharp
// Middleware/SecurityHeadersMiddleware.cs
public async Task InvokeAsync(HttpContext context)
{
    context.Response.OnStarting(() =>
    {
        var headers = context.Response.Headers;
        
        // Prevent clickjacking
        headers.Append("X-Frame-Options", "DENY");
        
        // Prevent MIME sniffing
        headers.Append("X-Content-Type-Options", "nosniff");
        
        // XSS Protection (legacy)
        headers.Append("X-XSS-Protection", "1; mode=block");
        
        // Referrer Policy
        headers.Append("Referrer-Policy", "strict-origin-when-cross-origin");
        
        // Permissions Policy
        headers.Append("Permissions-Policy", 
            "accelerometer=(), camera=(), geolocation=(), gyroscope=(), " +
            "magnetometer=(), microphone=(), payment=(), usb=()");
        
        // HSTS (production only)
        if (!_environment.IsDevelopment())
        {
            headers.Append("Strict-Transport-Security", 
                "max-age=31536000; includeSubDomains");
        }
        
        // Content Security Policy
        headers.Append("Content-Security-Policy", 
            "default-src 'self'; " +
            "script-src 'self'; " +
            "style-src 'self' 'unsafe-inline'; " +
            "img-src 'self' data: https:; " +
            "connect-src 'self';");
        
        // Hide server info
        headers.Remove("Server");
        headers.Remove("X-Powered-By");
        
        return Task.CompletedTask;
    });

    await _next(context);
}
```

### 9.3 CORS Configuration

```csharp
// Program.cs
builder.Services.AddCors(options =>
{
    options.AddPolicy("Production", policy =>
    {
        policy
            .WithOrigins(
                "https://yalla-business.vercel.app",
                "https://yalla-admin.vercel.app"
            )
            .WithMethods("GET", "POST", "PUT", "PATCH", "DELETE", "OPTIONS")
            .WithHeaders("Content-Type", "Authorization", "X-Correlation-ID", "X-CSRF-Token")
            .AllowCredentials()
            .SetPreflightMaxAge(TimeSpan.FromMinutes(10));
    });
    
    options.AddPolicy("Development", policy =>
    {
        policy
            .WithOrigins("http://localhost:3000", "http://localhost:3001")
            .AllowAnyMethod()
            .AllowAnyHeader()
            .AllowCredentials();
    });
});
```

### 9.4 Authorization (Permissions)

```typescript
// Frontend - Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¿Ñ€Ğ°Ğ²
const { user, hasPermission } = useAuthStore()

// ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½Ğ¾Ğ³Ğ¾ Ñ€Ğ°Ğ·Ñ€ĞµÑˆĞµĞ½Ğ¸Ñ
if (hasPermission('employees:write')) {
  // Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°ĞµĞ¼ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ
}

// Wildcard permission Ğ´Ğ»Ñ Ğ°Ğ´Ğ¼Ğ¸Ğ½Ğ¾Ğ²
// user.permissions = ['*'] - Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿

// ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ FeatureGate
<FeatureGate permission="employees:write">
  <CreateEmployeeButton />
</FeatureGate>
```

```csharp
// Backend - Ğ°Ñ‚Ñ€Ğ¸Ğ±ÑƒÑ‚Ñ‹ Ğ°Ğ²Ñ‚Ğ¾Ñ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
[Authorize]
[HttpPost]
[RequirePermission("employees:write")]
public async Task<ActionResult> Create([FromBody] CreateEmployeeRequest request)
{
    // ...
}
```

### 9.5 Input Validation

```typescript
// Frontend - Zod ÑÑ…ĞµĞ¼Ñ‹
const phoneSchema = z.string()
  .regex(/^998\d{9}$/, 'Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: 998XXXXXXXXX')
  .transform(val => val.replace(/\D/g, ''))

const emailSchema = z.string()
  .email('ĞĞµĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ñ‹Ğ¹ email')
  .toLowerCase()
  .trim()

const employeeSchema = z.object({
  fullName: z.string().trim().min(1, 'ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿Ğ¾Ğ»Ğµ').max(100),
  phone: phoneSchema,
  email: emailSchema.optional(),
})
```

```csharp
// Backend - FluentValidation
public class CreateEmployeeValidator : AbstractValidator<CreateEmployeeRequest>
{
    public CreateEmployeeValidator()
    {
        RuleFor(x => x.FullName)
            .NotEmpty().WithMessage("Ğ˜Ğ¼Ñ Ğ¾Ğ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾")
            .MaximumLength(100).WithMessage("ĞœĞ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 100 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²");
            
        RuleFor(x => x.Phone)
            .NotEmpty()
            .Matches(@"^998\d{9}$").WithMessage("Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚: 998XXXXXXXXX");
            
        RuleFor(x => x.Email)
            .EmailAddress().When(x => !string.IsNullOrEmpty(x.Email));
    }
}
```

---

## 10. DevOps Ğ¸ Ğ´ĞµĞ¿Ğ»Ğ¾Ğ¹

### 10.1 Ğ˜Ğ½Ñ„Ñ€Ğ°ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Production Setup                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Frontend (Vercel)                                               â”‚
â”‚  â”œâ”€â”€ Next.js 16 (App Router)                                     â”‚
â”‚  â”œâ”€â”€ Edge Runtime Ğ´Ğ»Ñ middleware                                 â”‚
â”‚  â”œâ”€â”€ Auto-scaling                                                â”‚
â”‚  â””â”€â”€ Preview deployments Ğ½Ğ° PR                                   â”‚
â”‚                                                                  â”‚
â”‚  Backend (Render)                                                â”‚
â”‚  â”œâ”€â”€ Docker container (ASP.NET 8)                                â”‚
â”‚  â”œâ”€â”€ Auto-deploy from main branch                                â”‚
â”‚  â”œâ”€â”€ Health checks                                               â”‚
â”‚  â””â”€â”€ Zero-downtime deploys                                       â”‚
â”‚                                                                  â”‚
â”‚  Database (Supabase)                                             â”‚
â”‚  â”œâ”€â”€ PostgreSQL 15                                               â”‚
â”‚  â”œâ”€â”€ Auto backups                                                â”‚
â”‚  â”œâ”€â”€ Connection pooling                                          â”‚
â”‚  â””â”€â”€ Row Level Security                                          â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.2 Dockerfile (Backend)

```dockerfile
# Build stage
FROM mcr.microsoft.com/dotnet/sdk:8.0 AS build
WORKDIR /src

# Copy solution and project files
COPY YallaBusinessAdmin.sln .
COPY Directory.Build.props .
COPY src/YallaBusinessAdmin.Api/YallaBusinessAdmin.Api.csproj src/YallaBusinessAdmin.Api/
COPY src/YallaBusinessAdmin.Application/YallaBusinessAdmin.Application.csproj src/YallaBusinessAdmin.Application/
COPY src/YallaBusinessAdmin.Domain/YallaBusinessAdmin.Domain.csproj src/YallaBusinessAdmin.Domain/
COPY src/YallaBusinessAdmin.Infrastructure/YallaBusinessAdmin.Infrastructure.csproj src/YallaBusinessAdmin.Infrastructure/

# Restore dependencies
RUN dotnet restore

# Copy source code
COPY . .

# Build and publish
RUN dotnet publish src/YallaBusinessAdmin.Api/YallaBusinessAdmin.Api.csproj \
    -c Release -o /app/publish --no-restore

# Runtime stage
FROM mcr.microsoft.com/dotnet/aspnet:8.0 AS runtime
WORKDIR /app

# Copy published output
COPY --from=build /app/publish .

# Environment
ENV ASPNETCORE_URLS=http://+:8080
ENV ASPNETCORE_ENVIRONMENT=Production

# Health check
HEALTHCHECK --interval=30s --timeout=3s --start-period=5s --retries=3 \
    CMD curl -f http://localhost:8080/health || exit 1

EXPOSE 8080
ENTRYPOINT ["dotnet", "YallaBusinessAdmin.Api.dll"]
```

### 10.3 Environment Variables

```bash
# Frontend (.env.local)
NEXT_PUBLIC_API_BASE_URL=https://api.yalla-business.com
NEXT_PUBLIC_APP_NAME=Yalla Business Admin
NEXT_PUBLIC_FEATURE_FLAG_NEW_DASHBOARD=true

# Backend (appsettings.Production.json / env vars)
ConnectionStrings__DefaultConnection=Host=xxx;Database=xxx;...
Jwt__Secret=xxx
Jwt__Issuer=https://api.yalla-business.com
Jwt__Audience=https://yalla-business.vercel.app
Jwt__AccessTokenExpirationMinutes=15
Jwt__RefreshTokenExpirationDays=7
```

### 10.4 Health Checks

```csharp
// Backend health endpoint
[ApiController]
[Route("health")]
public class HealthController : ControllerBase
{
    private readonly AppDbContext _context;
    
    [HttpGet]
    public async Task<IActionResult> Get(CancellationToken ct)
    {
        try
        {
            // Database check
            await _context.Database.CanConnectAsync(ct);
            
            return Ok(new
            {
                status = "healthy",
                timestamp = DateTime.UtcNow,
                version = Assembly.GetExecutingAssembly().GetName().Version?.ToString()
            });
        }
        catch (Exception ex)
        {
            return StatusCode(503, new
            {
                status = "unhealthy",
                error = ex.Message
            });
        }
    }
}
```

### 10.5 Logging Strategy

```csharp
// Serilog configuration
Log.Logger = new LoggerConfiguration()
    .MinimumLevel.Information()
    .MinimumLevel.Override("Microsoft", LogEventLevel.Warning)
    .MinimumLevel.Override("Microsoft.EntityFrameworkCore", LogEventLevel.Warning)
    .Enrich.FromLogContext()
    .Enrich.WithCorrelationId()
    .WriteTo.Console(outputTemplate: 
        "[{Timestamp:HH:mm:ss} {Level:u3}] [{CorrelationId}] {Message:lj}{NewLine}{Exception}")
    .WriteTo.Seq("http://seq-server:5341") // Production
    .CreateLogger();
```

---

## 11. ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### 11.1 Ğ•Ğ´Ğ¸Ğ½Ñ‹Ğ¹ config.json

```json
{
  "config_version": "1.0.0",
  "business_rules": {
    "order": {
      "freeze_deadline_hours": 15,
      "max_days_ahead": 30,
      "min_items_per_order": 1
    },
    "subscription": {
      "min_duration_days": 7,
      "max_duration_days": 365
    },
    "employee": {
      "phone_format": "998XXXXXXXXX",
      "max_daily_limit_uzs": 100000
    }
  },
  "ui": {
    "pagination": {
      "default_page_size": 10,
      "max_page_size": 100
    },
    "date_format": "dd.MM.yyyy",
    "time_format": "HH:mm"
  },
  "feature_flags": {
    "new_dashboard": true,
    "compensation_module": true,
    "export_to_excel": true,
    "dark_mode": true
  }
}
```

### 11.2 Feature Flags

```typescript
// lib/features.config.ts
import config from '@/../config.json'

type FeatureFlags = typeof config.feature_flags

export function isFeatureEnabled(feature: keyof FeatureFlags): boolean {
  return config.feature_flags[feature] ?? false
}

// Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
if (isFeatureEnabled('new_dashboard')) {
  return <NewDashboard />
}

// ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ FeatureGate
export function FeatureGate({ 
  feature, 
  children, 
  fallback 
}: { 
  feature: keyof FeatureFlags
  children: ReactNode
  fallback?: ReactNode 
}) {
  if (!isFeatureEnabled(feature)) {
    return fallback ?? null
  }
  return children
}

// JSX
<FeatureGate feature="compensation_module" fallback={<ComingSoon />}>
  <CompensationSettings />
</FeatureGate>
```

### 11.3 API Versioning

```csharp
// Program.cs - Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ° Ğ²ĞµÑ€ÑĞ¸Ğ¾Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
builder.Services.AddApiVersioning(options =>
{
    options.DefaultApiVersion = new ApiVersion(1, 0);
    options.AssumeDefaultVersionWhenUnspecified = true;
    options.ReportApiVersions = true;
    options.ApiVersionReader = ApiVersionReader.Combine(
        new UrlSegmentApiVersionReader(),
        new HeaderApiVersionReader("X-Api-Version")
    );
});

// Controller
[ApiVersion("1.0")]
[Route("api/v{version:apiVersion}/employees")]
[Route("api/employees")] // Backward compatibility
public class EmployeesController : BaseApiController
```

### 11.4 Query Keys Factory

```typescript
// lib/query/query-client.ts
export const queryKeys = {
  employees: {
    all: ['employees'] as const,
    lists: () => [...queryKeys.employees.all, 'list'] as const,
    list: (params: FilterParams) => [...queryKeys.employees.lists(), params] as const,
    details: () => [...queryKeys.employees.all, 'detail'] as const,
    detail: (id: string) => [...queryKeys.employees.details(), id] as const,
  },
  users: {
    all: ['users'] as const,
    lists: () => [...queryKeys.users.all, 'list'] as const,
    list: (params: FilterParams) => [...queryKeys.users.lists(), params] as const,
  },
  dashboard: {
    all: ['dashboard'] as const,
    stats: (projectId: string) => [...queryKeys.dashboard.all, 'stats', projectId] as const,
    orders: (projectId: string, date: string) => 
      [...queryKeys.dashboard.all, 'orders', projectId, date] as const,
  },
}

// Stale times
export const staleTimes = {
  static: 1000 * 60 * 60,      // 1 hour (Ñ€ĞµĞ´ĞºĞ¾ Ğ¼ĞµĞ½ÑĞµÑ‚ÑÑ)
  list: 1000 * 60 * 5,         // 5 min (ÑĞ¿Ğ¸ÑĞºĞ¸)
  detail: 1000 * 60 * 2,       // 2 min (Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸)
  realtime: 1000 * 30,         // 30 sec (dashboard)
}
```

---

## 12. Ğ§ĞµĞº-Ğ»Ğ¸ÑÑ‚ Ğ´Ğ»Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

### ĞŸÑ€Ğ¸ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ° Ğ² Yalla Ecosystem:

#### Frontend
- [ ] Next.js 16+ Ñ App Router
- [ ] TypeScript strict mode
- [ ] Tailwind CSS 4 + shadcn/ui
- [ ] Zustand Ğ´Ğ»Ñ ĞºĞ»Ğ¸ĞµĞ½Ñ‚ÑĞºĞ¾Ğ³Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
- [ ] TanStack Query Ğ´Ğ»Ñ ÑĞµÑ€Ğ²ĞµÑ€Ğ½Ğ¾Ğ³Ğ¾ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
- [ ] Axios Ñ interceptors (refresh token, correlation ID)
- [ ] Zod Ğ´Ğ»Ñ Ğ²Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ğ¸ Ñ„Ğ¾Ñ€Ğ¼
- [ ] React Hook Form
- [ ] Sonner Ğ´Ğ»Ñ toast ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹
- [ ] ESLint + Prettier ĞºĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
- [ ] Feature flags ÑĞ¸ÑÑ‚ĞµĞ¼Ğ°
- [ ] Error parsing Ñ Ñ€ÑƒÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸ĞµĞ¹
- [ ] Logger Ñ correlation ID

#### Backend
- [ ] ASP.NET Core 8+
- [ ] Clean Architecture (4 ÑĞ»Ğ¾Ñ)
- [ ] EF Core + PostgreSQL
- [ ] JWT HttpOnly cookies
- [ ] Security Headers middleware
- [ ] Structured error responses
- [ ] Serilog logging
- [ ] Health check endpoint
- [ ] API versioning
- [ ] CORS configuration

#### DevOps
- [ ] Dockerfile Ğ´Ğ»Ñ backend
- [ ] Vercel Ğ´Ğ»Ñ frontend
- [ ] Environment variables
- [ ] GitHub Actions CI/CD

#### Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- [ ] README Ñ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸ĞµĞ¹ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ°
- [ ] API Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ
- [ ] Deployment guide

---

## ĞŸÑ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ A: ĞŸĞ¾Ğ»ĞµĞ·Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

```bash
# Frontend
cd frontend
npm install
npm run dev          # Ğ—Ğ°Ğ¿ÑƒÑĞº dev ÑĞµÑ€Ğ²ĞµÑ€Ğ°
npm run build        # Production ÑĞ±Ğ¾Ñ€ĞºĞ°
npm run lint         # ĞŸÑ€Ğ¾Ğ²ĞµÑ€ĞºĞ° ESLint
npm run lint:fix     # ĞĞ²Ñ‚Ğ¾Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ

# Backend
cd backend
dotnet restore
dotnet run --project src/YallaBusinessAdmin.Api  # Ğ—Ğ°Ğ¿ÑƒÑĞº
dotnet build                                      # Ğ¡Ğ±Ğ¾Ñ€ĞºĞ°
dotnet ef migrations add MigrationName           # ĞĞ¾Ğ²Ğ°Ñ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ñ
dotnet ef database update                        # ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸

# Docker
docker build -t yalla-api ./backend
docker run -p 8080:8080 yalla-api
```

---